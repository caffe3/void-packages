# Template file for cuda126-cudart-devel
_pkgname=cuda-cudart-dev-12-6
_version=12.6.77-1
_arch=amd64
pkgname=cuda126-cudart-devel
version=12.6.77
revision=1
archs="x86_64"
build_style=fetch
hostmakedepends="dpkg binutils xz"
depends="cuda126-cccl cuda126-cudart>=12.6.77 cuda126-driver-devel>=12.6.77"
short_desc="CUDA Runtime native dev links,headers"
maintainer="Tai Chi Minh Ralph Eastwood <caffe@disroot.org>"
license="custom:NVIDIA Proprietary"
homepage="https://developer.nvidia.com/cuda-toolkit"
distfiles="https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2404/x86_64/./${_pkgname}_${_version}_${_arch}.deb"
checksum=c9920d6ff4368b657e91ef405b5283c3e85f7507d2420e4220282685efb959e2
repository=nonfree
nopie=yes
nostrip=yes

do_extract() {
  ar x ${XBPS_SRCDISTDIR}/${pkgname}-${version}/${_pkgname}_${_version}_${_arch}.deb
}

do_install() {
  bsdtar -C ${DESTDIR} -s '#/usr/local#/opt#' -xf data.tar.*
  vlicense ${DESTDIR}/usr/share/doc/cuda-cudart-dev-12-6/copyright LICENSE
  rm ${DESTDIR}/usr/share/doc/cuda-cudart-dev-12-6/copyright
  rm -f ${DESTDIR}/usr/share/doc/${_pkgname}/changelog.Debian.gz
}
