From 86e10b1322d10e48a71211a83235e9ea01e5cf31 Mon Sep 17 00:00:00 2001
From: Tai Chi Minh Ralph Eastwood <caffe@disroot.org>
Date: Mon, 27 Jan 2025 07:20:53 +0100
Subject: [PATCH 1/2] Minor fixes to CMakeLists.txt

---
 CMakeLists.txt | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index f0328e3..f686d12 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -117,7 +117,11 @@ include_directories(${PROJECT_BINARY_DIR})
 # Compiler flags
 
 if(NOT MSVC)
-  set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -std=c++11 -fPIC")
+  if(BUILD_SHARED_LIBS)
+    set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -std=c++17 -fPIC")
+  else()
+    set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -std=c++17")
+  endif()
 endif()
 
 # Recurse into main project directory
-- 
2.47.1

